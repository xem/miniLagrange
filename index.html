
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<h2>MiniLagrange</h2>
<p>A 253b app that draws a line that passes by all the points that are clicked.
<p>Inspired by <a href="https://www.youtube.com/watch?v=4S6G-zenbFM">this video</a>
<p>Fork me on <a href="//github.com/xem/miniLagrange">Github</a> !

<!-- START CLEAN CODE -->

<!-- 
<canvas id=a>
<script>
c=a.getContext("2d");
p=[];                                       // list of points
a.onclick=e=>{                              // on click
  a.width^=0;                               // reset canvas
  p.push([e.pageX,e.pageY]);                // add point in list
  for(x=0;x<999;x++){                       // for all the x coordinates in the canvas
    y=0;                                    // y coordinate to compute
    for(l=0;l<p.length;l++){                // compute an equation for each point P:
      c.fillRect(p[l][0]-2,p[l][1]-2,4,4);  // draw the point
      n=p[l][1];                            // numerator = P.y
      d=1;                                  // denominator = 1
      for(i=0;i<p.length;i++){              // for every other point Q:
        if(i!=l){                           // if Q != P:
          n*=(x-p[i][0]);                   // multiply numerator with (x-P.x)
          d*=(p[l][0]-p[i][0]);             // multiply denominator with (Q.x-P.x)
        }
      }
      y+=n/d;                               // add equation (numerator/denominator) to y
    }
    c.lineTo(x,y,1,1);                      // draw the curve up to (x,y)
  }
  c.stroke();
}
</script>
-->

<!-- END CLEAN CODE -->



<!-- START GOLFING -->

<canvas id=a onclick=with(a.getContext`2d`)for(P=a[0]?P:0,X=a.width^=a[P++]=event;X--;fillRect(X,Y,1,1))for(Y=0,l=P;l--;Y+=y)for({x,y}=a[l],fillRect(x-2,y-2,4,4),i=P;i--;y*=i-l?(X-z)/(x-z):1)z=a[i].x>
  
<!-- END GOLFING -->

<style>
body { font-family: calibri }
canvas { border:1px solid; top: 0; left: 0; position: fixed }
